System.register("chunks:///_virtual/SlotMacauCardAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMacauRunItem.ts","./SlotMacauDef.ts","./SlotMacauProxy.ts"],(function(t){var e,i,n,r,o,s,a,h,u,d,l,c,f,v,g,p,C,m,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,h=t.Prefab,u=t.Node,d=t.instantiate,l=t.v3,c=t.UITransform,f=t.tween,v=t.Tween,g=t.Component},function(t){p=t.default},function(t){C=t.CardState},function(t){m=t.default,_=t.SlotMacauGameEvent}],execute:function(){var S,y,A,x,P,N,R,E,b,w;s._RF.push({},"a3ed9jdBFdAEJ5pt6bawKGg","SlotMacauCardAni",void 0);var T=a.ccclass,I=a.property,M=a.menu;t("default",(S=T("SlotMacauCardAni"),y=M("game/SlotMacau/SlotMacauCardAni"),A=I(h),x=I(u),P=I(u),S(N=y((E=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"pre_card",E,r(e)),n(e,"node_light",b,r(e)),n(e,"node_mask",w,r(e)),e.stepHeight=111,e.runningCard=[],e.moveOut=180,e.delayTime=0,e.moveStep=60,e.finishCallBack=null,e._state=C.NORMAL,e.result=void 0,e.leftResultCount=5,e.endNode=void 0,e.endIndex=7,e.fixStep=void 0,e._index=0,e.next=void 0,e._hideArr=[],e._startPosArr=[],e._lightTime=0,e._endPosArr=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.init()},s.init=function(){for(var t=0;t<9;t++){var e=d(this.pre_card);this.node.addChild(e),e.setPosition(l(0,555-111*t)),e.name=t+"";var i=e.getComponent(p);this.runningCard.push(i)}this.node_light.active=!1,this.node_light.getComponent(c).priority=8,this.node_mask.active=!1,this.node_mask.getComponent(c).priority=7,this.initEvent()},s.setData=function(t){this._index=t.index},s.initPos=function(){for(var t=0;t<9;t++){var e=(this.endIndex+t+2)%9;this.runningCard[e].node.setPosition(l(0,555-t*this.stepHeight))}},s.initCard=function(t){if(void 0===t&&(t=null),t)for(var e=0;e<this.runningCard.length;e++){var i=t[e];this.runningCard[e].setCard(i,!0)}else for(var n,r=o(this.runningCard);!(n=r()).done;){n.value.initCard()}},s.showScatter=function(){for(var t,e=o(this.runningCard);!(t=e()).done;){t.value.showScatter()}},s.hideScatter=function(){for(var t,e=o(this.runningCard);!(t=e()).done;){t.value.hideScatter()}},s.start=function(){},s.initEvent=function(){},s.removeEvent=function(){},s.onDestroy=function(){this.removeEvent()},s.randCard=function(t){t.randCard()},s.resultCard=function(t){if(this.leftResultCount>0){this.leftResultCount--;var e=this.result[this.leftResultCount];t.setCard(e)}else if(null!=this.next){var i=this.next;t.setCard(i)}},s.showLight=function(){var t=this;this.node_light.active=!0,this.node_mask.active=!1,this.moveStep=100,this.scheduleOnce((function(){t.moveStep=40}),.6)},s.showMask=function(){this.node_mask.active=!0},s.hideMask=function(){this.node_mask.active=!1},s.changeCount=function(t,e){void 0===e&&(e=!1);for(var i=1,n=t[0].num,r=t[0].type,o=1;o<t.length;o++)if(t[o].num==n&&(r>0||n>13)&&t[o].type==r)i++;else{if(i>1){t[o-1].count=i;for(var s=1,a=o-2;s<i;a--)t[a].count=0,s++;if(e){t[o-1].count=0;for(var h=1,u=o-2;h<i;u--)t[u].count=0,h++;t[o-h].count=i}else{t[o-1].count=i;for(var d=1,l=o-2;d<i;l--)t[l].count=0,d++}}i=1,n=t[o].num,r=t[o].type}if(i>4)if(e){t[0].count=4;for(var c=1;c<4;c++)t[c].count=0}else{for(var f=1;f<t.length;f++)t[f].count=0;t[4].count=4}else if(i>1)if(e){t[4].count=0;for(var v=1,g=3;v<i;g--)t[g].count=0,v++;t[5-v].count=i}else{t[4].count=i;for(var p=1,C=3;p<i;C--)t[C].count=0,p++}return t},s.showResult=function(t,e){if(void 0===e&&(e=!1),this.next=null,e)for(var i=0;i<9;i++){var n=this.endIndex+i-2;n<0&&(n=9+n),this.runningCard[n].setCard(t[i])}else this.result=t,this.setState(C.RESULT)},s.showNext=function(t,e){void 0===e&&(e=0),this._hideArr.sort(),this._hideArr.reverse(),this._startPosArr=[];for(var i,n=o(this.runningCard);!(i=n()).done;){var r=i.value;this._startPosArr.push(r.node.getPosition().y)}for(var s=0;s<this._hideArr.length;s++)for(var a=this._hideArr[s]+s,h=5+a,u=0;u<h;u++){var d=this.endIndex+a-4;d<0&&(d=9+d),this.runningCard[d].node.setPosition(l(0,this.runningCard[d].node.getPosition().y+this.stepHeight)),a--}for(var c=0;c<t.length;c++){var v=this.endIndex-c;v<0&&(v=9+v),this.runningCard[v].setCard(t[c],!0)}this.show();for(var g=!1,p=0;p<9;p++){var C=this.runningCard[p].node;C.getPosition().y!=this._startPosArr[p]&&(g=!0,f(C).delay(e).delay(.3-.08*this._index).to(.6,{position:l(C.position.x,this._startPosArr[p])},{easing:"bounceOut"}).start())}return this._hideArr=[],g},s.setNext=function(t){this.next=t},s.show=function(){for(var t,e=o(this.runningCard);!(t=e()).done;){t.value.node.active=!0}},s.hide=function(t){var e=this.endIndex+t-4;e<0&&(e=9+e),this.runningCard[e].node.position=l(this.runningCard[e].node.position.x,this._endPosArr[e]),v.stopAllByTarget(this.runningCard[e].node),this.runningCard[e].node.active=!1;var i=this.runningCard[e].info;(void 0===i.count||null===i.count||i.type<2&&i.num<15)&&this._hideArr.push(t)},s.clear=function(){this.leftResultCount=5,this.endNode=null,this.moveStep=80,this._hideArr=[]},s.run=function(t){void 0===t&&(t=0),this.clear(),this.initPos(),this.show(),this.delayTime=t,this.setState(C.DELAY)},s.setState=function(t){if(this._state=t,t==C.RUN||t==C.RESULT)for(var e,i=o(this.runningCard);!(e=i()).done;){e.value.setState(t)}},s.update=function(t){var e=this;switch(this._state){case C.DELAY:this.delayTime-=t,this.delayTime<=0&&this.setState(C.RUN);break;case C.RUN:for(var i=this.runningCard.length,n=0;n<i;n++){var r=this.runningCard[n].node,o=r.getPosition().y;(o-=this.moveStep)<-(2*this.stepHeight+this.moveOut+this.runningCard[n].offY)&&(o+=9*this.stepHeight,this.randCard(this.runningCard[n])),r.setPosition(0,o)}break;case C.RESULT:this.node_light.active?(this.moveStep-=6,this.moveStep>30&&(this.moveStep=30),this.moveStep<20&&(this.moveStep=20)):(this.moveStep-=2,this.moveStep<20&&(this.moveStep=20));for(var s=this.runningCard.length,a=0;a<s;a++){var h=this.runningCard[a].node,u=h.getPosition().y;(u-=this.moveStep)<-(2*this.stepHeight+this.moveOut)&&(u+=9*this.stepHeight,this.resultCard(this.runningCard[a]),4==this.leftResultCount&&(this.endNode=h,this.endIndex=a)),h.setPosition(0,u),h==this.endNode&&u<=2*-this.stepHeight-8&&(this.setState(C.END),this.fixStep=u+2*this.stepHeight,this.node_light.active=!1)}break;case C.END:var d=this.runningCard.length;this._endPosArr=[];for(var c=function(){var t=e.runningCard[v].node,i=t.getPosition().y-e.fixStep;e._endPosArr.push(i),f(t).to(.05,{position:l(t.position.x,i)}).call((function(){i<-(2*e.stepHeight+20)&&(i+=9*e.stepHeight,t.setPosition(0,i))})).start()},v=0;v<d;v++)c();this._state=C.END_EMIT,this.delayTime=.1;break;case C.END_EMIT:this.delayTime-=t,this.delayTime<=0&&(this._state=C.NORMAL,m.emit(_.FINISH_RUN_INDEX,this._index))}},e}(g)).prototype,"pre_card",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(R.prototype,"node_light",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(R.prototype,"node_mask",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=R))||N)||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauCardAniH.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMacauRunItem.ts","./SlotMacauCardAni.ts","./SlotMacauDef.ts"],(function(t){var i,e,n,r,s,o,a,h,d,u,l,c,f,g,v,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,a=t._decorator,h=t.Prefab,d=t.Node,u=t.instantiate,l=t.v3,c=t.UITransform,f=t.tween},function(t){g=t.default},function(t){v=t.default},function(t){p=t.CardState}],execute:function(){var C,_,x,S,m,A,P,y;o._RF.push({},"e84ffagSxdJUpSh2ogA025M","SlotMacauCardAniH",void 0);var H=a.ccclass,R=a.property,w=a.menu;t("default",(C=H("SlotMacauCardAniH"),_=w("game/SlotMacau/SlotMacauCardAniH"),x=R(h),S=R(d),C(m=_((P=i((A=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,n(i,"pre_card",P,r(i)),n(i,"node_light",y,r(i)),i.stepHeight=123,i.runningCard=[],i.moveOut=20,i.delayTime=0,i.moveStep=60,i.finishCallBack=null,i.result=void 0,i.leftResultCount=4,i.endNode=void 0,i.endIndex=4,i.fixStep=void 0,i._index=0,i.next=void 0,i._hideArr=[],i._startPosArr=[],i._lightTime=0,i}e(i,t);var o=i.prototype;return o.init=function(){for(var t=-5*this.stepHeight/2,i=0;i<6;i++){var e=u(this.pre_card);e.name=""+i,this.node.addChild(e),e.setPosition(l(t+i*this.stepHeight,0));var n=e.getComponent(g);this.runningCard.push(n)}this.node_light.active=!1,this.node_light.getComponent(c).priority=8,this.node_mask.active=!1,this.node_mask.getComponent(c).priority=7,this.initEvent()},o.setData=function(t){this._index=t.index},o.initPos=function(){for(var t=-5*this.stepHeight/2,i=0;i<6;i++){var e=(this.endIndex+i+2)%6;this.runningCard[e].node.setPosition(l(t+i*this.stepHeight,0))}},o.initCard=function(t){if(void 0===t&&(t=null),t)for(var i=0;i<this.runningCard.length;i++){var e=t[i];this.runningCard[i].setCard(e,!0)}else for(var n,r=s(this.runningCard);!(n=r()).done;){n.value.initCard()}},o.showScatter=function(){for(var t,i=s(this.runningCard);!(t=i()).done;){t.value.showScatter()}},o.start=function(){},o.initEvent=function(){},o.removeEvent=function(){},o.onDestroy=function(){this.removeEvent()},o.randCard=function(t){t.randCard()},o.resultCard=function(t){if(this.leftResultCount>0){this.leftResultCount--;var i=this.result[this.leftResultCount];t.setCard(i)}else if(null!=this.next){var e=this.next;t.setCard(e)}},o.showLight=function(){},o.showResult=function(t,i){if(void 0===i&&(i=!1),this.next=null,i)for(var e=0;e<4;e++){var n=this.endIndex+e-2;n<0&&(n=6+n),this.runningCard[n].setCard(t[e])}else this.result=t,this.setState(p.RESULT);this.node_light.active=!1},o.showNext=function(t,i){this._hideArr.sort(),this._startPosArr=[];for(var e,n=s(this.runningCard);!(e=n()).done;){var r=e.value;this._startPosArr.push(r.node.getPosition().x)}for(var o=0;o<this._hideArr.length;o++)for(var a=this._hideArr[o]-o,h=6-a,d=0;d<h;d++){var u=this.endIndex+a;u<0?u=6+u:u>5&&(u-=6),this.runningCard[u].node.setPosition(l(this.runningCard[u].node.getPosition().x+this.stepHeight,0)),a++}for(var c=0;c<t.length;c++){var g=this.endIndex+c;g<0?g=6+g:g>5&&(g-=6),this.runningCard[g].setCard(t[c],!0)}this.show();for(var v=0;v<6;v++){var p=this.runningCard[v].node;p.getPosition().x!=this._startPosArr[v]&&f(p).to(.6,{position:l(this._startPosArr[v],p.position.y)},{easing:"bounceOut"}).start()}return this._hideArr=[],!0},o.setNext=function(t){this.next=t},o.show=function(){for(var t,i=s(this.runningCard);!(t=i()).done;){t.value.node.active=!0}},o.hide=function(t){var i=this.endIndex+t;i<0?i=6+i:i>5&&(i-=6),this.runningCard[i].node.active=!1,this._hideArr.push(t)},o.clear=function(){this.leftResultCount=4,this.endNode=null,this.moveStep=80,this._hideArr=[]},o.run=function(t){void 0===t&&(t=0),this.clear(),this.initPos(),this.show(),this.delayTime=t,this.setState(p.DELAY)},o.update=function(t){switch(this._state){case p.DELAY:this.delayTime-=t,this.delayTime<=0&&this.setState(p.RUN);break;case p.RUN:for(var i=this.runningCard.length,e=0;e<i;e++){var n=this.runningCard[e].node,r=n.getPosition().x;r<-(3*this.stepHeight/2+this.moveOut)&&(r+=6*this.stepHeight,this.randCard(this.runningCard[e])),r-=this.moveStep,n.setPosition(r,0)}break;case p.RESULT:for(var s=this.runningCard.length-1;s>=0;s--){var o=this.runningCard[s].node,a=o.getPosition().x;a<-(3*this.stepHeight/2+this.moveOut)&&(a+=6*this.stepHeight,this.resultCard(this.runningCard[s]),3==this.leftResultCount&&(this.endNode=o,this.endIndex=s)),a-=this.moveStep,o.setPosition(a,0),o==this.endNode&&a<=3*-this.stepHeight/2-8&&(this.setState(p.END),this.fixStep=a+3*this.stepHeight/2)}break;case p.END:for(var h=this.runningCard.length,d=0;d<h;d++){var u=this.runningCard[d].node,c=u.getPosition().x-this.fixStep;f(u).to(.02,{position:l(c,0)}).start()}this.setState(p.NORMAL)}},i}(v)).prototype,"pre_card",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(A.prototype,"node_light",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=A))||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauDef.ts",["cc","./AudioManager.ts","./SlotMacauProxy.ts"],(function(n){var t,i,a,o;return{setters:[function(n){t=n.cclegacy,i=n.AudioClip},function(n){a=n.default},function(n){o=n.default}],execute:function(){t._RF.push({},"d9db7KzIXdJpoHcR7vW8qfO","SlotMacauDef",void 0);n("CardState",{NORMAL:0,DELAY:1,RUN:2,RESULT:3,END:4,END_EMIT:5});var e=n("SlotMacauDef",function(){function n(){}return n.palyAudio=function(n,t){void 0===t&&(t=null);var e="sound/"+n;o.bundle.load(e,i,(function(n,i){if(n&&console.log(n),t){var o=a.instance.playSound(i);t(o)}else a.instance.playOneShot(i)}))},n.palyMusic=function(n){var t="sound/"+n;o.bundle.load(t,i,(function(n,t){a.instance.playGameMusic(t,!0)}))},n}());e.audio={AWARD1:"prizeSmallwin",BG:"bgm_mg",BG2:"bgm_fs",END:"spinActiveLoop",TURN:"spinBtn",BIGWIN:"bgmBigwinMain",WILD:"symWild",SCATTER:"symScatter",FREE_WIN:"bgmTotalwinMain",WINLINE:"prizeWinHighlight",TITLE:"fsWonTitle",HEIGHT_LIGHT_MAIN:"fastspinStart",HEARTBEAT:"heartbeat",MULT_FLY:"multiFly"},e.colors=["0c3e75","136a44","713e81"],e.odds={1:[30,40,60,80],2:[20,25,50,70],3:[10,25,40,60],4:[8,15,20,30],5:[6,10,12,15],6:[6,10,12,15],7:[4,6,8,10],8:[4,6,8,10],9:[1,2,3,4],10:[1,2,3,4],11:[1,2,3,4]},t._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauGame",["./SlotMacauCardAni.ts","./SlotMacauCardAniH.ts","./SlotMacauDef.ts","./SlotMacauOddAni.ts","./SlotMacauRandItem.ts","./SlotMacauRunItem.ts","./SlotMacauRunItemBlock.ts","./SlotMacauRunItemTop.ts","./SlotMacauScene.ts","./SlotMacauSetAuto.ts","./SlotMacauView.ts","./SlotMacauWinItem.ts","./SlotMacauWindow.ts","./ui_help.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotMacauOddAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMacauDef.ts"],(function(t){var o,e,i,n,d,a,s,r,l,c,u,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){d=t.cclegacy,a=t._decorator,s=t.Label,r=t.tween,l=t.v3,c=t.v2,u=t.Component},function(t){h=t.SlotMacauDef}],execute:function(){var f,p,_,x,y,v,b,g;d._RF.push({},"4a18dlQ6H1GW5C0/VH2tWmE","SlotMacauOddAni",void 0);var M=a.ccclass,A=a.property,O=a.menu;t("default",(f=M("SlotMacauOddAni"),p=O("game/SlotMacau/SlotMacauOddAni"),_=A(s),x=A(s),f(y=p((b=o((v=function(t){function o(){for(var o,e=arguments.length,d=new Array(e),a=0;a<e;a++)d[a]=arguments[a];return o=t.call.apply(t,[this].concat(d))||this,i(o,"txt_odd1",b,n(o)),i(o,"txt_odd2",g,n(o)),o._odd=0,o}e(o,t);var d=o.prototype;return d.onLoad=function(){this.setOdd(0)},d.showAni=function(t){var o=this;void 0===t&&(t=null),this._odd<2?t&&t():(r(this.txt_odd1.node).delay(1).to(.3,{scale:l(1.5,1.5,1)}).to(.5,{scale:l(1,1,1)}).start(),r(this.txt_odd2.node).delay(1).delay(.3).to(.5,{scale:l(.3,.3,1)}).start(),r(this.txt_odd2.node).delay(1).to(.3,{scale:l(1.5,1.5,1)}).bezierTo(.5,c(100,0),c(100,155),c(0,155)).call((function(){o.txt_odd2.node.scale=l(0,0,1),t&&t()})).start(),h.palyAudio(h.audio.MULT_FLY))},d.showAniWithOdd=function(t){this.setOdd(t),this.txt_odd2.node.setPosition(0,0),r(this.txt_odd1.node).to(.2,{scale:l(1.2,1.2,1)}).to(.1,{scale:l(1,1,1)}).start(),r(this.txt_odd2.node).to(.2,{scale:l(1.2,1.2,1)}).to(.1,{scale:l(1,1,1)}).start()},d.setOdd=function(t){this._odd=t,this.node.active=0!=t,this.txt_odd1.string="x"+t,this.txt_odd2.string="x"+t},o}(u)).prototype,"txt_odd1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=o(v.prototype,"txt_odd2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y)||y));d._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauRandItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,a,o,i,l,u,c,m,s,f,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,l=e._decorator,u=e.Node,c=e.SpriteFrame,m=e.Tween,s=e.tween,f=e.Sprite,d=e.Component}],execute:function(){var p,_,h,b,y,g,v,M,I,R,w,S,x,z;i._RF.push({},"a91dbGB44FOIpGLZTU2AWuB","SlotMacauRandItem",void 0);var C=l.ccclass,F=l.property,A=l.menu;e("default",(p=C("SlotMacauRandItem"),_=A("game/SlotMacau/SlotMacauRandItem"),h=F(u),b=F(c),y=F(c),g=F(c),v=F(c),p(M=_((R=n((I=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,r(n,"node_normal",R,a(n)),r(n,"frame_normal",w,a(n)),r(n,"frame_normal2",S,a(n)),r(n,"frame_normal3",x,a(n)),r(n,"frame_normal4",z,a(n)),n._index=void 0,n._type=void 0,n._count=1,n._info=void 0,n._lastRandIndex=0,n}t(n,e);var i=n.prototype;return i.onLoad=function(){},i.setCard=function(e,n){var t=this;this._index=e.num-1,this._info=e;var r=e.count>1?e.count:0;this.node_normal.active=!1;var a=[];this.unscheduleAllCallbacks(),m.stopAllByTarget(this.node),a=4==r?this.frame_normal4:3==r?this.frame_normal3:2==r?this.frame_normal2:this.frame_normal,this.schedule((function(){t.rand(a)}),.1,5,.5),s(this.node).delay(1.3).call((function(){t.node_normal.getComponent(f).spriteFrame=a[t._index]})).start()},i.rand=function(e){this.node_normal.active=!0;for(var n=Math.floor(Math.random()*e.length);n==this._lastRandIndex;)n=Math.floor(Math.random()*e.length);this._lastRandIndex=n,this.node_normal.getComponent(f).spriteFrame=e[n]},o(n,[{key:"info",get:function(){return this._info}}]),n}(d)).prototype,"node_normal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(I.prototype,"frame_normal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=n(I.prototype,"frame_normal2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(I.prototype,"frame_normal3",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(I.prototype,"frame_normal4",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=I))||M)||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauRunItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMacauDef.ts","./SlotMacauRunItemTop.ts","./SlotMacauRunItemBlock.ts","./SlotMacauProxy.ts"],(function(t){var e,n,i,o,r,a,l,s,u,c,p,d,_,h,m,f,b,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,u=t.SpriteFrame,c=t.sp,p=t.Sprite,d=t.UITransform,_=t.v3,h=t.Component},function(t){m=t.SlotMacauDef},function(t){f=t.default},function(t){b=t.default},function(t){g=t.default,v=t.SlotMacauGameEvent}],execute:function(){var w,y,S,C,k,z,M,D,I,L,P,R,A,F,T,x,U,Y,B,E,N,G,H,K,W,j,O,q,J,Q,V,X,Z,$,tt,et,nt,it,ot,rt;a._RF.push({},"fd51cmGY6BMmK9YNlU5bHNr","SlotMacauRunItem",void 0);var at=l.ccclass,lt=l.property,st=l.menu,ut=3;t("default",(w=at("SlotMacauRunItem"),y=st("game/SlotMacau/SlotMacauRunItem"),S=lt(s),C=lt(s),k=lt(s),z=lt(s),M=lt(u),D=lt(u),I=lt(u),L=lt(u),P=lt(u),R=lt(b),A=lt(f),F=lt(c.SkeletonData),T=lt(c.SkeletonData),x=lt(u),U=lt(p),Y=lt(s),B=lt(s),E=lt(s),w(N=y((H=e((G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"node_parent",H,o(e)),i(e,"node_wild",K,o(e)),i(e,"node_scatter",W,o(e)),i(e,"node_normal",j,o(e)),i(e,"frame_blur",O,o(e)),i(e,"frame_normal",q,o(e)),i(e,"frame_normal2",J,o(e)),i(e,"frame_normal3",Q,o(e)),i(e,"frame_normal4",V,o(e)),i(e,"node_black",X,o(e)),i(e,"node_top",Z,o(e)),i(e,"spine_wilds",$,o(e)),i(e,"spine_scatters",tt,o(e)),i(e,"frame_hps",et,o(e)),i(e,"sprite_hp",nt,o(e)),i(e,"node_scatterLight",it,o(e)),i(e,"node_lightUp",ot,o(e)),i(e,"node_lightDown",rt,o(e)),e._state=ut,e._index=void 0,e._type=void 0,e._count=1,e._info=void 0,e._offY=0,e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.node_wild.active=!1,this.node_scatter.active=!1,this.node_normal.active=!0,this.node_top.node.active=!1},a.setCard=function(t,e){var n=this;void 0===e&&(e=!0);var i=t.num-1;this._info=t;var o=0==t.count?0:t.count||1;this.sprite_hp.node.active=!1,this.node_scatterLight.active=!1;var r=this.frame_normal;i>=12?(this.node_wild.active=!0,this.node_normal.active=!1,this.node_scatter.active=!1,i>12?(this.sprite_hp.node.active=!0,this.sprite_hp.spriteFrame=this.frame_hps[i-13],this.node_wild.getComponent(c.Skeleton).skeletonData=o?this.spine_wilds[o-1]:this.spine_wilds[0]):this.node_wild.getComponent(c.Skeleton).skeletonData=o?this.spine_wilds[o-1]:this.spine_wilds[0],e&&this._index!=i&&m.palyAudio(m.audio.WILD)):11==i?(this.node_wild.active=!1,this.node_normal.active=!1,this.node_scatter.active=!0,this.node_scatterLight.active=!0,o>1?(this.node_scatter.getComponent(c.Skeleton).skeletonData=this.spine_scatters[1],this.node_lightUp.setPosition(0,100),this.node_lightDown.setPosition(0,-100)):(this.node_scatter.getComponent(c.Skeleton).skeletonData=this.spine_scatters[0],this.node_lightUp.setPosition(0,50),this.node_lightDown.setPosition(0,-50)),this.scheduleOnce((function(){n.node_scatter.getComponent(c.Skeleton).setAnimation(0,"idle",!0)})),e&&this._index!=i&&m.palyAudio(m.audio.SCATTER),o>0&&(this.node.getComponent(d).priority=10)):(this.node_wild.active=!1,this.node_normal.active=!0,this.node_scatter.active=!1,o>1&&(r=2==o?this.frame_normal2:3==o&&this.frame_normal3[i]?this.frame_normal3:4==o&&this.frame_normal4[i]?this.frame_normal4:this.frame_normal2),this.node_normal.getComponent(p).spriteFrame=r[i],this.node.getComponent(d).priority=2),this._offY=111*(o-1),this.node_parent.setPosition(0,55.5*(o-1)),this.node_parent.getComponent(d).height=111*o,this.setParentActive(o>0),this.node_black.setInfo(t),this._index=t.num-1,e?(this.node_top.node.active=!0,this.node_top.setType(t.type),this.node_top.setCount(o)):this.node_top.node.active=!1},a.rand=function(t){var e=Math.floor(13*Math.random());this.node_normal.getComponent(p).spriteFrame=t[e]},a.setParentActive=function(t){this.node_parent.active=t},a.randCard=function(){var t=Math.floor(11*Math.random())+1;this.setCard({num:t,type:0,count:1,remove:!1},!1),this.node_normal.getComponent(p).spriteFrame=this.frame_blur[t-1]},a.initCard=function(){var t=Math.floor(11*Math.random())+1;this.setCard({num:t,type:0,count:1,remove:!1},!1),this.node_normal.getComponent(p).spriteFrame=this.frame_normal[t-1]},a.setState=function(t){this._state=t},a.showScatter=function(){11==this._index&&(this.node_scatter.getComponent(c.Skeleton).setAnimation(0,"win",!0),this.node_scatterLight.active=!0)},a.hideScatter=function(){},a.onClick=function(){g.emit(v.CLICK_ITEM,{info:this._info,pos:this.node_parent.getComponent(d).convertToWorldSpaceAR(_(0,0))})},r(e,[{key:"info",get:function(){return this._info}},{key:"offY",get:function(){return this._offY}}]),e}(h)).prototype,"node_parent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"node_wild",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(G.prototype,"node_scatter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"node_normal",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(G.prototype,"frame_blur",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(G.prototype,"frame_normal",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(G.prototype,"frame_normal2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(G.prototype,"frame_normal3",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(G.prototype,"frame_normal4",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(G.prototype,"node_black",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(G.prototype,"node_top",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(G.prototype,"spine_wilds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(G.prototype,"spine_scatters",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(G.prototype,"frame_hps",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(G.prototype,"sprite_hp",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(G.prototype,"node_scatterLight",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(G.prototype,"node_lightUp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(G.prototype,"node_lightDown",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=G))||N)||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauRunItemBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,c,a,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,a=e.Sprite,l=e.SpriteFrame,u=e.Color,s=e.Component}],execute:function(){var p,f,m,b,_,h,F,k,y,d;n._RF.push({},"d11d4DWghRBr5589m8G/ObL","SlotMacauRunItemBlock",void 0);var v=c.ccclass,g=c.property,S=c.menu;e("default",(p=v("SlotMacauRunItemBlock"),f=S("game/SlotMacau/SlotMacauRunItemBlock"),m=g(a),b=g(l),_=g(l),p(h=f((k=t((F=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,o(t,"sprite_block",k,i(t)),o(t,"frame_count1",y,i(t)),o(t,"frame_count2",d,i(t)),t}return r(t,e),t.prototype.setInfo=function(e){var t=[];if(this.sprite_block.color=(new u).fromHEX("#FFFFFF"),e.num<7){t=this.frame_count2;var r=Math.floor((e.num-1)/2);this.sprite_block.color=(new u).fromHEX(["#E285FF","#278EFF","#44FFAD"][r])}else t=e.num<12?this.frame_count1:null;t?(this.sprite_block.node.active=!0,e.count?this.sprite_block.spriteFrame=t[e.count-1]:this.sprite_block.spriteFrame=t[0]):this.sprite_block.node.active=!1},t}(s)).prototype,"sprite_block",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(F.prototype,"frame_count1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=t(F.prototype,"frame_count2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=F))||h)||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauRunItemTop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,r,n,a,p,u,s,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,p=e.Node,u=e.SpriteFrame,s=e.Sprite,l=e.UITransform,c=e.Component}],execute:function(){var d,_,m,h,f,M,b,g,y,S,v,z,w,C,F,I,T,R,P,D;n._RF.push({},"15b59MjkI9LMrtVh3+wz7gC","SlotMacauRunItemTop",void 0);var L=a.ccclass,j=a.property,k=a.menu;e("default",(d=L("SlotMacauRunItemTop"),_=k("game/SlotMacau/SlotMacauRunItemTop"),m=j(p),h=j(p),f=j(p),M=j(p),b=j(p),g=j(u),y=j(u),S=j(u),d(v=_((w=t((z=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"node_top1",w,r(t)),i(t,"node_topMore1",C,r(t)),i(t,"node_topMore2",F,r(t)),i(t,"node_topMoreSide1",I,r(t)),i(t,"node_topMoreSide2",T,r(t)),i(t,"frame_more",R,r(t)),i(t,"frame_side",P,r(t)),i(t,"frame_top1",D,r(t)),t._type=0,t._count=1,t}o(t,e);var n=t.prototype;return n.setType=function(e){this._type=e,0==this._type||1==this._type?this.node.active=!1:(this.node.active=!0,this.node_top1.getComponent(s).spriteFrame=this.frame_top1[e-2],this.node_topMore1.getComponent(s).spriteFrame=this.frame_more[e-2],this.node_topMore2.getComponent(s).spriteFrame=this.frame_more[e-2],this.node_topMoreSide1.getComponent(s).spriteFrame=this.frame_side[e-2],this.node_topMoreSide2.getComponent(s).spriteFrame=this.frame_side[e-2])},n.setCount=function(e){this._count=e,e>1?(this.node_top1.active=!1,this.node_topMore1.active=!0,this.node_topMore2.active=!0,this.node_topMoreSide1.active=!0,this.node_topMoreSide2.active=!0,this.node_topMore1.setPosition(0,111*e/2-30),this.node_topMore2.setPosition(0,-(111*e/2-30)),this.node_topMoreSide1.getComponent(l).height=111*e,this.node_topMoreSide2.getComponent(l).height=111*e):(this.node_top1.active=!0,this.node_topMore1.active=!1,this.node_topMore2.active=!1,this.node_topMoreSide1.active=!1,this.node_topMoreSide2.active=!1)},n.clear=function(){this._type=0,this._count=1},t}(c)).prototype,"node_top1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(z.prototype,"node_topMore1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"node_topMore2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"node_topMoreSide1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"node_topMoreSide2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"frame_more",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(z.prototype,"frame_side",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(z.prototype,"frame_top1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=z))||v)||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewManager.ts","./MainManager.ts","./SlotMacauProxy.ts","./Common.ts"],(function(e){var t,n,o,i,a,r,c,s,u,l,f,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Prefab,s=e.instantiate,u=e.Component},function(e){l=e.default},function(e){f=e.default},function(e){p=e.default},function(e){d=e.Common}],execute:function(){var h,g,v,m,S,M;a._RF.push({},"beaedTo2vZHFaH4nX08kLBQ","SlotMacauScene",void 0);var y=r.ccclass,P=r.menu,_=r.property,b=f.instance.getConfigManager(),E=f.instance.getEventManager();e("default",(h=y("SlotMacauScene"),g=P("game/SlotMacau/SlotMacauScene"),v=_(c),h(m=g((M=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"pre_room",M,i(t)),t.node_desk=null,t.node_room=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.init()},a.start=function(){var e=s(this.pre_room);this.node.addChild(e)},a.init=function(){this.reset(),d.updateProgress(1)},a.reset=function(){},a.closePop=function(e){l.instance.closePopView()},a.onEnable=function(){p.registSocketEvent(),E.on(b.ButtonEvent.closePop,this.closePop,this)},a.onDisable=function(){p.removeSocketEvent(),E.off(b.ButtonEvent.closePop,this.closePop,this)},a.onDestroy=function(){},t}(u)).prototype,"pre_room",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauSetAuto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewManager.ts","./Common.ts","./MainManager.ts"],(function(t){var e,o,n,i,a,r,l,c,u,s,g,m,f,p,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,c=t.Button,u=t.Label,s=t.ToggleContainer,g=t.Sprite,m=t.color,f=t.Component},function(t){p=t.default},function(t){d=t.Common},function(t){h=t.default}],execute:function(){var b,_,k,y,v,C,w,B,N,M,S,x,z,A;a._RF.push({},"c9c70vJcy5DLqVmJcZoEP9H","SlotMacauSetAuto",void 0);var L=r.ccclass,D=r.property,T=r.menu,q=(r.inspector,h.instance.getConfigManager()),P=h.instance.getEventManager();t("default",(b=L("SlotMacauSetAuto"),_=T("game/SlotMacau/SlotMacauSetAuto"),k=D(l),y=D(c),v=D(u),C=D(s),w=D(u),b(B=_((M=e((N=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).selNode=null,n(e,"contentRoot",M,i(e)),n(e,"Button_ok",S,i(e)),n(e,"txt_gold",x,i(e)),n(e,"toggle",z,i(e)),n(e,"txt_win",A,i(e)),e._quick=void 0,e}o(e,t);var a=e.prototype;return a.onLoad=function(){d.setButtonGray(this.Button_ok)},a.onEnable=function(){},a.onDisable=function(){},a.setData=function(t){console.log("data",t),this.txt_gold.string=d.moneyFormat(t.gold),this.txt_win.string=d.moneyFormat(t.win),this._quick=t.isQuick;var e=this.toggle.toggleItems;e[0].isChecked=!t.isQuick,e[1].isChecked=t.isQuick},a.onClickToggle=function(t){this._quick="1"==t.node.name,P.emit(q.eventTransform.setQuick,this._quick)},a.onBtnClick=function(t){switch(t.target.name){case"close":p.instance.closePopView();break;case"Button_ok":if(this.selNode){var e=[10,30,50,80,1e3][parseInt(this.selNode.name.replace("Node_item_",""))];P.emit(q.eventTransform.setAuto,e)}else P.emit(q.eventTransform.setAuto,0);p.instance.closePopView();break;default:this.selNode&&(this.selNode.getComponent(g).color=m(255,255,255,255),this.selNode.getChildByName("Label_times").getComponent(u).color=m(152,152,152,255)),this.selNode=t.target,this.selNode.getComponent(g).color=m(125,125,125,255),this.selNode.getChildByName("Label_times").getComponent(u).color=m(232,98,50,255),this.Button_ok.interactable=!0,d.setButtonGray(this.Button_ok,!1)}},e}(f)).prototype,"contentRoot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(N.prototype,"Button_ok",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(N.prototype,"txt_gold",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"toggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(N.prototype,"txt_win",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=N))||B)||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./ProxyMgr.ts","./AudioManager.ts","./DataManager.ts","./NetManager.ts","./ViewManager.ts","./ScrollNumLabel.ts","./Common.ts","./SlotMacauCardAni.ts","./SlotMacauDef.ts","./SlotMacauWinItem.ts","./SlotMacauWindow.ts","./ClickbtnEffect.ts","./FortuneSetAuto.ts","./FortuneRank.ts","./FortuneHistory.ts","./FortuneSetBase.ts","./MainManager.ts","./SlotMacauOddAni.ts","./GameDef.ts","./SlotMacauProxy.ts","./LocalizedImage.ts"],(function(t){var e,i,n,o,r,s,a,u,l,c,h,f,_,d,b,p,m,g,w,v,y,x,C,A,F,k,L,I,T,S,W,B,z,N,E,D,M,O,H,P,R,G,U,X,V,K,q,Q,Y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,u=t.sp,l=t.Button,c=t.Label,h=t.Sprite,f=t.Node,_=t.Prefab,d=t.Toggle,b=t.SpriteFrame,p=t.instantiate,m=t.Tween,g=t.tween,w=t.v3,v=t.UITransform,y=t.Color,x=t.color,C=t.sys,A=t.UIOpacity,F=t.Component},function(t){k=t.default},function(t){L=t.default},function(t){I=t.default},function(t){T=t.default,S=t.UserKey},function(t){W=t.default},function(t){B=t.default},function(t){z=t.default},function(t){N=t.Common},function(t){E=t.default},function(t){D=t.SlotMacauDef},function(t){M=t.default},function(t){O=t.default},function(t){H=t.default},function(t){P=t.default},function(t){R=t.default},function(t){G=t.default},function(t){U=t.default},function(t){X=t.default},function(t){V=t.default},function(t){K=t.GameDef},function(t){q=t.default,Q=t.SlotMacauGameEvent},function(t){Y=t.LocalizedImage}],execute:function(){var j,J,Z,$,tt,et,it,nt,ot,rt,st,at,ut,lt,ct,ht,ft,_t,dt,bt,pt,mt,gt,wt,vt,yt,xt,Ct,At,Ft,kt,Lt,It,Tt,St,Wt,Bt,zt,Nt,Et,Dt,Mt,Ot,Ht,Pt,Rt,Gt,Ut,Xt,Vt,Kt,qt,Qt,Yt,jt,Jt,Zt,$t,te,ee,ie,ne,oe,re,se,ae,ue,le,ce,he,fe,_e,de,be,pe,me,ge,we,ve,ye,xe,Ce,Ae,Fe,ke,Le,Ie,Te,Se,We,Be,ze,Ne,Ee,De,Me,Oe,He,Pe,Re,Ge,Ue,Xe,Ve,Ke,qe,Qe,Ye,je,Je,Ze,$e,ti,ei,ii,ni,oi,ri,si,ai,ui,li,ci,hi,fi,_i,di,bi,pi,mi,gi,wi,vi,yi,xi,Ci,Ai,Fi;s._RF.push({},"092b4vWRYFPhqgHxi8r50Pp","SlotMacauView",void 0);var ki=a.ccclass,Li=a.property,Ii=a.menu,Ti=X.instance.getConfigManager(),Si=X.instance.getEventManager(),Wi=0,Bi=1,zi=2,Ni=3,Ei=4,Di=5,Mi=6,Oi=7,Hi=8,Pi=9,Ri=10,Gi=11,Ui=13,Xi=.8;t("default",(j=ki("SlotMacauView"),J=Ii("game/SlotMacau/SlotMacauView"),Z=Li(E),$=Li(u.Skeleton),tt=Li(l),et=Li(l),it=Li(c),nt=Li(z),ot=Li(c),rt=Li(c),st=Li(z),at=Li(c),ut=Li(u.Skeleton),lt=Li(h),ct=Li(z),ht=Li(f),ft=Li(f),_t=Li(f),dt=Li(f),bt=Li(f),pt=Li(u.Skeleton),mt=Li(c),gt=Li(f),wt=Li(f),vt=Li(c),yt=Li(f),xt=Li(_),Ct=Li(f),At=Li(f),Ft=Li(c),kt=Li(_),Lt=Li(z),It=Li(d),Tt=Li(H),St=Li(f),Wt=Li(f),Bt=Li(f),zt=Li(b),Nt=Li(h),Et=Li(f),Dt=Li(f),Mt=Li(u.Skeleton),Ot=Li(z),Ht=Li(c),Pt=Li(f),Rt=Li(l),Gt=Li(u.Skeleton),Ut=Li(u.Skeleton),Xt=Li(V),Vt=Li(c),Kt=Li(u.Skeleton),qt=Li(f),Qt=Li(c),Yt=Li(f),jt=Li(c),Jt=Li(f),Zt=Li(c),$t=Li(u.Skeleton),te=Li(f),ee=Li(f),ie=Li(f),ne=Li(h),oe=Li(h),re=Li(h),se=Li(h),ae=Li(b),ue=Li(b),le=Li(l),ce=Li(f),j(he=J((_e=e((fe=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"aniLines",_e,o(e)),n(e,"spine_start",de,o(e)),n(e,"btn_add",be,o(e)),n(e,"btn_reduce",pe,o(e)),n(e,"txt_bet",me,o(e)),n(e,"txt_win",ge,o(e)),n(e,"txt_gold",we,o(e)),n(e,"txt_betFree",ve,o(e)),n(e,"txt_winFree",ye,o(e)),n(e,"txt_goldFree",xe,o(e)),n(e,"sp_bigWin",Ce,o(e)),n(e,"title_bigWin",Ae,o(e)),n(e,"txt_bigwin",Fe,o(e)),n(e,"node_bigwin",ke,o(e)),n(e,"notice_title",Le,o(e)),n(e,"node_spineMask",Ie,o(e)),n(e,"node_gain",Te,o(e)),n(e,"node_content",Se,o(e)),n(e,"spine_tip",We,o(e)),n(e,"txt_gain",Be,o(e)),n(e,"node_gainTitle",ze,o(e)),n(e,"node_totalGain",Ne,o(e)),n(e,"txt_totalGain",Ee,o(e)),n(e,"node_spineParent",De,o(e)),n(e,"prefab_winItem",Me,o(e)),n(e,"node_menu",Oe,o(e)),n(e,"node_btns",He,o(e)),n(e,"txt_leftCount",Pe,o(e)),n(e,"prefab_window",Re,o(e)),n(e,"txt_line",Ge,o(e)),n(e,"btn_auto",Ue,o(e)),n(e,"clickEffect",Xe,o(e)),n(e,"Button_soundon",Ve,o(e)),n(e,"Button_soundoff",Ke,o(e)),n(e,"ic_soundoff_off",qe,o(e)),n(e,"frame_bgs",Qe,o(e)),n(e,"sprite_bg",Ye,o(e)),n(e,"node_freeBg",je,o(e)),n(e,"node_freeWinBg",Je,o(e)),n(e,"spine_freeWin",Ze,o(e)),n(e,"txt_freeWin",$e,o(e)),n(e,"txt_freeLeft",ti,o(e)),n(e,"node_freeLeft",ei,o(e)),n(e,"btns",ii,o(e)),n(e,"spine_freeBg",ni,o(e)),n(e,"spine_quick",oi,o(e)),n(e,"txt_odd",ri,o(e)),n(e,"txt_selectCount",si,o(e)),n(e,"spine_freeWinBtn",ai,o(e)),n(e,"node_freeWinBtn",ui,o(e)),n(e,"txt_leftTime",li,o(e)),n(e,"node_freeAdd",ci,o(e)),n(e,"txt_freeAdd",hi,o(e)),n(e,"node_buyFree",fi,o(e)),n(e,"txt_buyFree",_i,o(e)),n(e,"spine_light",di,o(e)),n(e,"node_free0",bi,o(e)),n(e,"node_free1",pi,o(e)),n(e,"node_buyFreeBtn",mi,o(e)),n(e,"sprite_bg1",gi,o(e)),n(e,"sprite_bg4",wi,o(e)),n(e,"sprite_bg2",vi,o(e)),n(e,"sprite_bg3",yi,o(e)),n(e,"frames_bg1",xi,o(e)),n(e,"frames_bg2",Ci,o(e)),n(e,"btn_checkFree",Ai,o(e)),n(e,"node_scatterLight",Fi,o(e)),e._runDelay=.05,e._runTime=Xi,e._state=Wi,e._lock=!1,e._bet=1e3,e._auto=!1,e._autoTimes=0,e._try=!1,e._showLineIndex=0,e._errCount=0,e.noticeIndex=0,e.noticeDelay=1,e._window=void 0,e.bigWinBgClickIndex=0,e._isFree=!1,e.freeLock=!1,e.freeTimeLeft=0,e._resultIndex=0,e._freeCount=0,e._allFreeCount=0,e._oddType=20,e._odds=void 0,e.lightTimeId=0,e._bigWinSoundId=0,e._totalWinSoundId=0,e._isScatter=!1,e.scatterLine=0,e._totalWin=0,e._bigWinAniName="bigwin_",e._bigWinTitle="win_big",e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.onClickHTMLStartBtn=this.onClickHTMLStartBtn.bind(this),window.addEventListener("customEventFromHTML",this.onClickHTMLStartBtn)},s.onClickHTMLStartBtn=function(){var t=this;this.txt_win.formatFunc=function(t){return N.moneyFormat(t)},this.txt_winFree.formatFunc=function(t){return N.moneyFormat(t)},this.txt_bigwin.formatFunc=function(t){return N.numberFormat(t/K.Constant.moneyRatio,2)},this.txt_line.formatFunc=function(t){return N.numberFormat(t,0)},this.txt_freeWin.formatFunc=function(t){return N.numberFormat(t/K.Constant.moneyRatio,2)},this.node.getChildByName("BlockNode").active=!1,this.init(),this.clear(!1),this.initEvent(),this.scheduleOnce((function(){t.updateGold(),t.changeBtnActive(!0),t.loadAni(),t.updateInfo(q.initInfo)}))},s.start=function(){},s.updateBetAmountOption=function(){var t=T.instance.getUserDataForKey(S.CURRENCY_MULTIPLIER);q.betSizeList=[200,1e3,2e3].map((function(e){return e*t})),q.betLevelList=[1,2,3,4,5,6,7,8,9,10],q.betLinesList=[20],q.betAmountList=[],q.betAmountInfoList=[];for(var e=new Set,i=0;i<q.betSizeList.length;i++)for(var n=0;n<q.betLevelList.length;n++)for(var o=0;o<q.betLinesList.length;o++){var r=q.betSizeList[i]*q.betLevelList[n]*q.betLinesList[o];e.has(r)||(e.add(r),q.betAmountList.push(r),q.betAmountInfoList.push({betSizeIndex:i,betLevelIndex:n,betLinesIndex:o,betAmount:r}))}q.betAmountList.sort((function(t,e){return t-e})),q.betAmountInfoList.sort((function(t,e){return t.betAmount-e.betAmount}))},s.init=function(){D.palyMusic(D.audio.BG);var t=p(this.prefab_window);this.node.addChild(t),this._window=t.getComponent(O),t.active=!1,this.updateBetAmountOption()},s.loadAni=function(){for(var t=0;t<this.aniLines.length;t++)this.aniLines[t].setData({index:t}),this.aniLines[t].initCard()},s.hideSpine=function(){for(var t,e=this.node_spineParent.children,i=r(e);!(t=i()).done;){t.value.active=!1}for(var n,o=r(this.aniLines);!(n=o()).done;){n.value.show()}},s.checkSpecialNext=function(t,e,i){void 0===i&&(i=0);var n=null,o=q.result.OpenNums[this._resultIndex].openNum[t],r=q.result.OpenNums[this._resultIndex+1];if(r){for(var s=0,a=e+1;a<5;a++)o[a]&&o[a].remove&&s++;s-=i,(r.openNum[t][e+s].type>2||r.openNum[t][e+s].num>13)&&(n=r.openNum[t][e+s])}return n},s.showSpine=function(t,e,i,n){void 0===n&&(n=0);var o=5*t+e,r=this.node_spineParent.getChildByName("spine"+o),s=0;if(0!==i.count){r.active=!0;var a=r.getChildByName("item");a||(a=p(this.prefab_winItem),r.addChild(a),a.name="item");var u=null;if(i.num>14)u={num:i.num-1,type:i.type,count:i.count},s=i.count;else if(i.type>2)u={num:i.count+13,type:1,count:i.count},s=i.count;else if(i.type>1){var l=this.checkSpecialNext(t,e,n);l&&(u={num:l.num,type:l.type,count:i.count},s=i.count)}a.getComponent(M).showResult(i,u)}return this.aniLines[t].hide(e),s},s.initEvent=function(){var t=this;q.on(Q.UPDATE_BETLIST,this.updateInfo,this),q.on(Q.SELECT_BET,(function(e){t.setData(),m.stopAllByTarget(t.txt_bet.node),g(t.txt_bet.node).to(.1,{scale:w(1.2,1.2,1)}).to(.1,{scale:w(1,1,1)}).start()}),this),q.on(Q.START,(function(){t.runStart()}),this),q.on(Q.ERROR,(function(){t.changeState(Wi)}),this),Si.on(Ti.eventTransform.setAuto,this.setAuto,this),Si.on(Ti.eventTransform.setQuick,this.onClickQuick,this),q.on(Q.CLICK_ITEM,(function(e){if(t.checkClick()){t._window.node.scale=w(1,1,1),t._window.node.active=!0;var i=e.pos;i=t.node.getComponent(v).convertToNodeSpaceAR(i),t._window.showInfo(e.info,i)}}),this),Si.on(Ti.eventTransform.setBet,this.setBet,this),q.on(Q.SELECT_ODD,(function(e){t._freeCount=e,t._allFreeCount=e,t.txt_selectCount.string=t._allFreeCount+"",t.setFreeCount(e),t.onClickFree()}),this),this.node_freeWinBtn.on(f.EventType.MOUSE_ENTER,(function(){t.spine_freeWinBtn.node.active=!0,t.spine_freeWinBtn.setAnimation(0,"push",!0)}),this),this.node_freeWinBtn.on(f.EventType.MOUSE_LEAVE,(function(){t.spine_freeWinBtn.node.active=!1}),this),q.on(Q.FINISH_RUN_INDEX,(function(e){if(t._isScatter){if(e>=t.scatterLine){var i=e+1;if(t.aniLines[i]){for(var n,o=r(t.aniLines);!(n=o()).done;){n.value.showMask()}t.aniLines[i].showLight()}t.node_content.active=!1,t.spine_tip.setAnimation(0,"scatter_wait",!0),D.palyAudio(D.audio.HEARTBEAT)}t.showScatter()}if(5==e){t.hideScatter();for(var s,a=r(t.aniLines);!(s=a()).done;){s.value.hideMask()}t.spine_tip.setAnimation(0,"normal_idle",!0),t.node_content.active=!0,t._lock=!1,t.showResult(),t.lightTimeId&&I.instance.stopSound(t.lightTimeId)}}),this),Si.on(Ti.eventTransform.disConnect,this.disconnect,this),Si.on(Ti.protocolHall.login,this.onLogin,this)},s.disconnect=function(){N.showWait()},s.onLogin=function(){N.closeWait()},s.setBet=function(t){q.betAmountIdx=t,q.setBet()},s.updateInfo=function(t){var e=q.betAmountList.length-1,i=e>=4?4:e;if(q.betAmountIdx=-1,t.betAmount<=0)q.betAmountIdx=i;else{for(var n=0;n<q.betAmountList.length;n++)if(q.betAmountList[n]==t.betAmount){q.betAmountIdx=n;break}-1==q.betAmountIdx&&(q.betAmountIdx=i)}this.setData(),this._totalWin=q.result.freeInfo.totalFreePrizeAmount>0?q.result.freeInfo.totalFreePrizeAmount:q.result.prizeAmount,this.txt_win.reset(this._totalWin),t.freePrize?this.changeState(Gi):t.freeInfo.surplusFreeCount>0&&this.showWildInfo(t),this._freeCount=t.freeInfo.surplusFreeCount;var o=t.OpenNums[0].openNum;this.aniLines[6].showNext(o[6]);for(var r=0;r<this.aniLines.length-1;r++){this.aniLines.length;var s=o[r].slice();s=s.reverse(),this.aniLines[r].showNext(s)}},s.setData=function(){this._bet=q.getBet(),this.txt_bet.string=N.moneyFormat(this._bet),this.txt_betFree.string=N.moneyFormat(this._bet),this.txt_buyFree.string=N.moneyFormat(75*this._bet),this.updateBetBtn(!0)},s.updateBetBtn=function(t){this._auto&&(t=!1);for(var e,i=r(this.btns);!(e=i()).done;){e.value.interactable=t}t&&(this.btn_add.interactable=!(q.betAmountIdx==q.betAmountList.length-1),this.btn_reduce.interactable=!(0==q.betAmountIdx))},s.updateGold=function(t){void 0===t&&(t=0),this.txt_gold.string=N.moneyFormat(parseInt(T.instance.getUserDataForKey(S.GOLD)+t))+"",this.txt_goldFree.string=N.moneyFormat(parseInt(T.instance.getUserDataForKey(S.GOLD)+t))+""},s.onClickBg=function(){this._window.node.active=!1,this.node_buyFree.active=!1},s.onClickRank=function(){N.loadPopPublic("prefab/fortuneCommon/FortuneRank",(function(){}),(function(t){var e=p(t);B.instance.popNodeView(e,!0),e.getComponent(R).send("slotDreamsofMacau")}),!0)},s.onClickRecord=function(){this.checkClick()&&N.loadPopPublic("prefab/fortuneCommon/FortuneHistory",(function(){}),(function(t){var e=p(t);B.instance.popNodeView(e,!0),e.getComponent(G).setGameType("slotDreamsofMacau")}),!0)},s.onClickHelp=function(){N.loadPopBuddle("prefab/SlotMacauHelp",q.bundle,(function(){}),(function(t){var e=p(t);B.instance.popNodeView(e,!0)}),!0)},s.onClickChangeBet=function(){this.checkClick()&&N.loadPopPublic("prefab/fortuneCommon/FortuneSetBase",(function(){}),(function(t){var e=p(t);B.instance.popNodeView(e,!0),e.getComponent(U).setData({betSizeList:q.betSizeList,betLevelList:q.betLevelList,betLinesList:q.betLinesList,betAmountList:q.betAmountList,betAmountInfoList:q.betAmountInfoList,betSizeIdx:q.betSizeIdx,betLevelIdx:q.betLevelIdx,betLinesIdx:q.betLinesIdx,betAmountIdx:q.betAmountIdx})}),!0)},s.onClickBetUp=function(){this.checkClick()&&q.betAmountIdx!=q.betAmountList.length-1&&(q.betAmountIdx++,q.setBet())},s.onClickBetDown=function(){this.checkClick()&&0!=q.betAmountIdx&&(q.betAmountIdx--,q.setBet())},s.onClickTryGame=function(){this._try=!0},s.onClickAuto=function(t){var e=this;t.isChecked?t.setIsCheckedWithoutNotify(!1):(t.setIsCheckedWithoutNotify(!0),N.loadPopPublic("prefab/fortuneCommon/FortuneSetAuto",(function(){}),(function(t){var i=p(t);B.instance.popNodeView(i,!0),i.getComponent(P).setData({gold:parseInt(T.instance.getUserDataForKey(S.GOLD)),bet:e._bet,win:0})}),!0))},s.setAuto=function(t){this._autoTimes=t,this.txt_leftCount.string=""+this._autoTimes,t>0?(this._auto=!0,this.spine_start.setAnimation(0,"auto",!0),this.btn_auto.setIsCheckedWithoutNotify(!1),this.clickEffect.switchAni("push2"),this.txt_bet.color=y.WHITE,this.txt_gold.color=y.WHITE,this.txt_win.getComponent(c).color=y.WHITE,this.txt_betFree.color=y.WHITE,this.txt_goldFree.color=y.WHITE,this.txt_winFree.getComponent(c).color=y.WHITE,g(this.node_buyFreeBtn).to(.5,{position:w(0,200)}).start()):(this._auto=!1,this.spine_start.setAnimation(0,"idle",!0),this.btn_auto.setIsCheckedWithoutNotify(!0),this.clickEffect.switchAni(),this.txt_bet.color=x().fromHEX("#86dcff"),this.txt_gold.color=x().fromHEX("#86dcff"),this.txt_winFree.getComponent(c).color=x().fromHEX("#86dcff"),this.txt_bet.color=x().fromHEX("#86dcff"),this.txt_goldFree.color=x().fromHEX("#86dcff"),this.txt_winFree.getComponent(c).color=x().fromHEX("#86dcff"),g(this.node_buyFreeBtn).to(.5,{position:w(0,55)}).start()),this.updateBetBtn(0==t),this.txt_leftCount.node.active=this._auto,this._state==Ei&&this._auto&&this.changeState(Wi)},s.checkAuto=function(){this._auto&&(this._autoTimes--,this.txt_leftCount.string=""+this._autoTimes,this._autoTimes<=0&&this.setAuto(0))},s.checkClick=function(){return!this._isFree&&(!this._auto&&(!this.freeLock&&(!!this.checkReady()&&!this._lock)))},s.onClickBuyFree=function(){if(this.onClickBg(),this.checkClick()){var t=T.instance.getUserDataForKey(S.GOLD);if(!this._try&&t<75*this._bet)return N.showTip(k.lang.fishTip.gold,C.isMobile),void this.setAuto(0);this._isFree||this.updateGold(75*-this._bet),this.clear(),this._state=Bi,this._runTime=Xi,this.node_buyFree.active=!1,this.changeBtnActive(!0),W.instance.sendOnlineData(Ti.ProtocolSlotMacau.buyFree,{betAmount:this._bet+""})}},s.onClickCancelFree=function(){this.node_buyFree.active=!1,this.changeBtnActive(!0)},s.onClickCheckFree=function(){this.checkClick()&&(this.spine_start.setAnimation(0,"stop",!0),this.node_buyFree.active=!0)},s.onClickFree=function(){this.node_freeBg.active=!1,this.freeTimeLeft=0,this.freeLock=!1,this._state=Ni},s.onClickFreeWin=function(){var t=this;this.spine_freeWinBtn.node.active=!0,this.spine_freeWinBtn.setAnimation(0,"intro",!1),this.changeBtnActive(!0),this.spine_freeWin.setAnimation(0,"end",!1),I.instance.stopSound(this._totalWinSoundId),this.scheduleOnce((function(){t.node_freeWinBg.active=!1,t.freeLock=!1,t._state=Ni,t._runTime=1}),.5)},s.onClickQuick=function(t){0==this._runDelay?(this._runDelay=.05,this.spine_quick.setAnimation(0,"off",!0)):(this._runDelay=0,this.spine_quick.setAnimation(0,"intro_on",!1),this.spine_quick.addAnimation(0,"on",!0))},s.checkReady=function(){return this._state==Wi||this._state==Oi||this._state==Ei||this._state==Mi},s.onClickStart=function(){this._auto?this.setAuto(0):this.preStart()},s.preStart=function(){if(this.onClickBg(),!this.freeLock&&this.checkReady()&&!this._lock){var t=T.instance.getUserDataForKey(S.GOLD);if(!this._try&&t<1*this._bet&&!this._isFree)return N.showTip(k.lang.fishTip.gold,C.isMobile),void this.setAuto(0);this._isFree||this.updateGold(1*-this._bet),this.clear(),this.sendBet(),this._state=Bi,this._runTime=Xi}},s.runStart=function(){var t=this;this.setFreeCount(this._freeCount-1),this._freeCount<0&&(this._freeCount=0),this._isFree||this.checkAuto(),this.changeBtnActive(!1),D.palyAudio(D.audio.TURN),this._state=Bi,this._runTime=Xi,this.aniLines[6].run(0);for(var e=function(e){0==t._runDelay?t.aniLines[e].run(0):t.scheduleOnce((function(){t.aniLines[e].run(0)}),t._runDelay*e)},i=0;i<this.aniLines.length-1;i++)e(i);0==this._runDelay&&(this._runTime=.3)},s.sendBet=function(){this._errCount=0,this._try||W.instance.sendOnlineData(Ti.ProtocolSlotMacau.bet,{betAmount:this._bet+""})},s.clear=function(t){void 0===t&&(t=!0),this.unscheduleAllCallbacks(),this.txt_win.reset(),this.lightTimeId=0,t&&(q.result=null),this.hideLines(),this.hideSpine(),this._showLineIndex=0,this.node_spineMask.active=!1,this.node_content.active=!0,this.node_gain.active=!1,this.node_totalGain.active=!1,this.txt_totalGain.string="",this._resultIndex=0,this.bigWinBgClickIndex=0,this.changeSpecialNotice(),this._isScatter=!1,this.scatterLine=0,this.spine_tip.setAnimation(0,"normal_idle",!0),this._totalWin=0},s.changeScene=function(t){void 0===t&&(t=!1),this._isFree!=t&&(this._isFree=t,this.node_freeLeft.active=t,t?(this.showScatter(),this._freeCount=q.result.freeInfo.surplusFreeCount,this.freeLock=!0,this.freeTimeLeft=10,this.node_freeBg.active=!0,this.sprite_bg.spriteFrame=this.frame_bgs[1],this.spine_freeBg.clearTrack(0),this.spine_freeBg.setAnimation(0,"intro",!1),this.spine_freeBg.addAnimation(0,"idle",!0),D.palyAudio(D.audio.TITLE),this.spine_light.setAnimation(0,"free_idle",!0),g(this.node_buyFreeBtn).to(.5,{position:w(0,200)}).start(),this.txt_odd.setOdd(q.result.freeInfo.odds||1),this.txt_leftTime.string=""+this._freeCount,this.txt_winFree.reset(q.result.freeInfo.totalFreePrizeAmount),this.txt_selectCount.string=q.result.freeInfo.totalFreePrizeCount+"",this.sprite_bg1.spriteFrame=this.frames_bg1[1],this.sprite_bg4.spriteFrame=this.frames_bg1[1],this.sprite_bg2.spriteFrame=this.frames_bg2[1],this.sprite_bg3.spriteFrame=this.frames_bg2[1],D.palyAudio(D.audio.BG2)):(this._allFreeCount=0,this.sprite_bg.getComponent(h).spriteFrame=this.frame_bgs[0],this.spine_light.setAnimation(0,"normal_idle",!0),this.txt_odd.setOdd(0),this._auto||g(this.node_buyFreeBtn).to(.5,{position:w(0,55)}).start(),this.sprite_bg1.spriteFrame=this.frames_bg1[0],this.sprite_bg4.spriteFrame=this.frames_bg1[0],this.sprite_bg2.spriteFrame=this.frames_bg2[0],this.sprite_bg3.spriteFrame=this.frames_bg2[0],D.palyAudio(D.audio.BG)))},s.calLine=function(){var t=q.result.OpenNums[this._resultIndex].lines;this.txt_line.value=t},s.showResult=function(){q.result&&(this._isFree,this.calLine(),this.checkAward())},s.checkAward=function(){q.result.prizeAmount>0?(this._auto||this.spine_start.setAnimation(0,"stop",!0),this.changeState(Ni)):(this.changeState(Oi),this.changeBtnActive(!0),this.showEnd())},s.changeState=function(t){var e=this;switch(t){case Wi:this._state=Wi;break;case Di:this._state=Di,this.node_bigwin.active=!0,this._runTime=8;var i=q.result.prizeAmount/this._bet,n="bigwin_";this.txt_bigwin.stepCount=240,this.sp_bigWin.setAnimation(0,n+"win",!1),this.title_bigWin.getComponent(Y).key="win_big",i>=30&&(n="megawin_",this.txt_bigwin.stepCount=360,this._runTime=12,this.sp_bigWin.setAnimation(0,n+"win",!1),this._bigWinTitle="win_mg",this.scheduleOnce((function(){e.title_bigWin.getComponent(Y).key="win_mg"}),4)),i>=50&&(n="superwin_",this.txt_bigwin.stepCount=480,this._runTime=16,this.sp_bigWin.setAnimation(0,n+"win",!1),this._bigWinTitle="win_sp",this.scheduleOnce((function(){e.title_bigWin.getComponent(Y).key="win_sp"}),8)),this._bigWinAniName=n,this.txt_bigwin.value=q.result.prizeAmount,this.sp_bigWin.setCompleteListener((function(t){(t.animation?t.animation.name:"").startsWith(n)&&(e.sp_bigWin.setCompleteListener(null),e.sp_bigWin.setAnimation(0,n+"idle",!0))})),D.palyAudio(D.audio.BIGWIN,(function(t){e._bigWinSoundId=t}));break;case Mi:this._state=Mi,this._runTime=2,this.scheduleOnce((function(){e.txt_win.value=q.result.prizeAmount,e.txt_winFree.value=q.result.freeInfo.totalFreePrizeAmount})),this.node_totalGain.active=!0,g(this.node_totalGain).to(.2,{scale:w(1.1,1.1,1)}).to(.2,{scale:w(1,1,1)}).start(),this.node_gain.active=!1,this.txt_totalGain.string=N.moneyFormat(q.result.prizeAmount),this.changeBtnActive(!0);var o=q.result.prizeAmount/this._bet,r="normal";o>=60?r="bigwin2":o>=5&&(r="bigwin"),this.spine_tip.setAnimation(0,r+"_win",!1),this.spine_tip.addAnimation(0,r+"_idle",!0);break;case Ni:this._state=Ni,this._runTime=2,this.showAward();break;case Pi:this._state=Pi,this._runTime=2,this.scheduleOnce((function(){e.node_spineMask.active=!1}),1),this.scheduleOnce((function(){e.showNext()}),1.6);break;case zi:this.onClickStop();break;case Bi:this.preStart();break;case Ei:this._state=Ei,this._runTime=2,this.showSignleLine();break;case Oi:this._state=Oi,this._runTime=1;break;case Hi:this._state=Hi,this._runTime=5,this.node_freeWinBg.active=!0,this._auto||this.spine_start.setAnimation(0,"stop",!0),this.txt_freeWin.reset(),q.freeTotalWin=q.result.freeInfo.totalFreePrizeAmount,this.txt_freeWin.value=q.freeTotalWin,this.node_content.active=!1,this.node_totalGain.active=!0,this.node_gain.active=!1,this.txt_win.value=q.freeTotalWin,this.txt_totalGain.string=N.moneyFormat(q.freeTotalWin);var s=q.freeTotalWin/this._bet,a="normal";s>=60?a="bigwin2":s>=5&&(a="bigwin"),this.spine_tip.setAnimation(0,a+"_win",!1),this.spine_tip.addAnimation(0,a+"_idle",!0),this.spine_freeWin.setAnimation(0,"intro",!1),this.spine_freeWin.addAnimation(0,"idle",!0),this.txt_winFree.reset(),q.freeTotalWin=0,D.palyAudio(D.audio.FREE_WIN,(function(t){e._totalWinSoundId=t}));break;case Ri:this._state=Ri,this.txt_freeAdd.string=q.result.freeInfo.surplusFreeCount-this._freeCount+"",this._allFreeCount=q.result.freeInfo.totalFreePrizeCount,this.txt_selectCount.string=this._allFreeCount+"",this.node_freeAdd.active=!0,g(this.node_freeAdd).to(.3,{scale:w(1.1,1.1,1)}).to(.1,{scale:w(1,1,1)}).delay(1).call((function(){e.node_freeAdd.active=!1,e._state=Oi})).start(),this.setFreeCount(q.result.freeInfo.surplusFreeCount);break;case Gi:this._state=Gi,this.scheduleOnce((function(){e.changeScene(!0)}),.5);break;case Ui:this._state=Ui,this.changeScene(!1)}},s.showAward=function(){this._state==Ni&&(q.result.prizeAmount>0&&D.palyAudio(D.audio.AWARD1),q.result.prizeAmount&&(this.showLines(),this.showWin(!0)))},s.checkScatter=function(){for(var t,e=q.result.OpenNums[this._resultIndex].openNum,i=0,n=r(e);!(t=n()).done;)for(var o,s=t.value,a=r(s);!(o=a()).done;){var u=o.value;12==u.num&&u.count>0&&i++}i>=3&&(this._isScatter=!0)},s.showNext=function(){var t=this;this.hideSpine(),this._showLineIndex=0,this.node_spineMask.active=!1;var e=0;if(this.checkScatter(),this._isScatter){this.showScatter();for(var i,n=r(this.aniLines);!(i=n()).done;){i.value.showMask()}this.node_scatterLight.active=!0,this.scheduleOnce((function(){for(var e,i=r(t.aniLines);!(e=i()).done;){e.value.hideMask()}}),.9),e+=1}this._resultIndex++;var o=this._resultIndex,s=q.result.OpenNums[o].openNum;this.aniLines[6].showNext(s[6]);for(var a=0;a<this.aniLines.length-1;a++){this.aniLines.length;var u=s[a].slice();u=u.reverse(),this.aniLines[a].showNext(u,e)&&this._isScatter&&(e+=.5)}D.palyAudio(D.audio.END),e+=1;this.scheduleOnce((function(){t.hideScatter(),t._lock=!1,t.showResult()}),e)},s.showEnd=function(){this.updateGold(),this.changeBtnActive(!0),this._state=Oi,q.result.freePrize?this._isFree?(this.changeState(Ri),this.showScatter()):this.changeState(Gi):(this._freeCount=q.result.freeInfo.surplusFreeCount,0==this._freeCount&&this._isFree&&(this.changeState(Ui),this.changeState(Hi)))},s.showScatter=function(){for(var t,e=r(this.aniLines);!(t=e()).done;){t.value.showScatter()}},s.hideScatter=function(){for(var t,e=r(this.aniLines);!(t=e()).done;){t.value.hideScatter()}this.node_scatterLight.active=!1},s.showWin=function(t){var e=this;this.node_content.active=!1,this.node_gain.active=!0,g(this.node_gain).to(.01,{scale:w(.9,.9,1)}).to(.2,{scale:w(1.1,1.1,1)}).to(.1,{scale:w(1,1,1)}).start();var i=q.result.OpenNums[this._resultIndex].prizeAmount;if(this._totalWin+=i,i>0){if(this._isFree){var n=q.result.OpenNums[this._resultIndex].odds;this.txt_gain.string=N.numberFormat(i/n/K.Constant.moneyRatio,2),this.txt_odd.showAni((function(){e.txt_gain.string=N.numberFormat(i/K.Constant.moneyRatio,2),e.txt_odd.showAniWithOdd(n+1);var t="normal";n>=60?t="bigwin2":n>=5&&(t="bigwin"),e.spine_tip.setAnimation(0,t+"_win",!1),e.spine_tip.addAnimation(0,t+"_idle",!0)}))}else this.txt_gain.string=N.numberFormat(i/K.Constant.moneyRatio,2);this.txt_win.value=this._totalWin}this._resultIndex<q.result.OpenNums.length-1?this.changeState(Pi):q.result.prizeAmount/this._bet>=20?this.scheduleOnce((function(){e.changeState(Di)}),.3):this.changeState(Mi)},s.showWildInfo=function(t){this.txt_freeLeft.string=t.freeInfo.surplusFreeCount+"",this.txt_selectCount.string=q.result.freeInfo.totalFreePrizeCount+"",this.node_freeLeft.active=!0,this._isFree=!0,this.spine_light.setAnimation(0,"free_idle",!0),this.txt_odd.setOdd(t.freeInfo.odds),g(this.node_buyFreeBtn).to(.5,{position:w(0,200)}).start(),this._freeCount=t.freeInfo.surplusFreeCount,this.txt_leftTime.string=""+this._freeCount,q.freeTotalWin=this._totalWin=t.freeInfo.totalFreePrizeAmount,this.txt_winFree.reset(q.freeTotalWin),this.txt_win.reset(this._totalWin),this.sprite_bg1.spriteFrame=this.frames_bg1[1],this.sprite_bg4.spriteFrame=this.frames_bg1[1],this.sprite_bg2.spriteFrame=this.frames_bg2[1],this.sprite_bg3.spriteFrame=this.frames_bg2[1]},s.setFreeCount=function(t){this._freeCount=t,this.txt_freeLeft.string=t+"",this.node_free0.active=0==t,this.node_free1.active=t>0},s.showLines=function(){var t=q.result.OpenNums[this._resultIndex];if(!t||0==t.prizeAmount)return!1;var e=q.result.OpenNums[this._resultIndex].openNum;this.hideSpine(),this.node_spineMask.active=!0;for(var i=0;i<e.length;i++)for(var n=e[i],o=0,r=n.length-1;r>=0;r--){var s=n[r];if(s.remove)o+=this.showSpine(i,r,s,o)}return D.palyAudio(D.audio.WINLINE),!0},s.showSignleLine=function(){},s.hideLines=function(){this.txt_line.resetWithString("....")},s.onClickMenu=function(){var t=this;m.stopAllByTarget(this.node_menu),m.stopAllByTarget(this.node_btns);this.node_btns.active?(g(this.node_btns).to(.2,{position:w(0,-255,1)}).start(),g(this.node_btns.getComponent(A)).to(.2,{opacity:0}).call((function(){t.node_btns.active=!1})).start(),g(this.node_menu).to(.2,{position:w(0,25,1)}).start(),g(this.node_menu.getComponent(A)).to(.2,{opacity:255}).call((function(){t.node_menu.active=!0})).start()):(g(this.node_btns).to(.2,{position:w(0,25,1)}).start(),g(this.node_btns.getComponent(A)).to(.2,{opacity:255}).call((function(){t.node_btns.active=!0})).start(),g(this.node_menu).to(.2,{position:w(0,-255,1)}).start(),g(this.node_menu.getComponent(A)).to(.2,{opacity:0}).call((function(){t.node_menu.active=!1})).start())},s.onClickAudio=function(){this.Button_soundon.active=!this.Button_soundon.active,this.Button_soundoff.active=!this.Button_soundoff.active,this.ic_soundoff_off.active=this.Button_soundoff.active,I.instance.setVolume(this.Button_soundon.active?1:0)},s.onClickBigWin=function(){this.bigWinBgClickIndex++,1==this.bigWinBgClickIndex?(this.txt_bigwin.reset(q.result.prizeAmount),this.sp_bigWin.setAnimation(0,this._bigWinAniName+"idle",!0),this.title_bigWin.getComponent(Y).key=this._bigWinTitle,I.instance.stopSound(this._bigWinSoundId),I.instance.resumeMusic()):this._runTime=0},s.onClickStop=function(){var t=this;if(q.result&&!this._lock){this._lock=!0,this._state=zi,this._runTime=1.5;var e=q.result.OpenNums[0].openNum,i=0,n=0,o=e[6].slice();o=o.reverse(),this.aniLines[6].showResult(o),this.scheduleOnce((function(){t.aniLines[6].showResult(o)}),.01);for(var s,a=r(o);!(s=a()).done;){var u=s.value;12==u.num&&u.count>0&&i++}for(var l=function(o){for(var s,a=e[o].slice(),u=r(a);!(s=u()).done;){var l=s.value;12==l.num&&l.count>0&&i++}i>=3&&!t._isScatter&&0!=t._runDelay&&(t._isScatter=!0,t.scatterLine=o),t.scheduleOnce((function(){t.aniLines[o].showResult(a)}),n+t._runDelay*o),i>=3&&0!=t._runDelay&&(n+=2)},c=0;c<this.aniLines.length-1;c++)l(c);D.palyAudio(D.audio.END),this._runTime+=n;var h=q.result.prizeAmount;q.freeTotalWin+=this._isFree?h:0,n>0&&D.palyAudio(D.audio.HEIGHT_LIGHT_MAIN,(function(e){t.lightTimeId=e}))}},s.changeBtnActive=function(t){this._auto||(this.updateBetBtn(t),t?(this.txt_bet.color=x().fromHEX("#86DCFF"),this.txt_gold.color=x().fromHEX("#86DCFF"),this.txt_win.getComponent(c).color=x().fromHEX("#86DCFF"),this.txt_betFree.color=x().fromHEX("#86DCFF"),this.txt_goldFree.color=x().fromHEX("#86DCFF"),this.txt_winFree.getComponent(c).color=x().fromHEX("#86DCFF"),this.btn_checkFree.interactable=!0,this.btn_checkFree.node.getChildByName("main_fb_press").getComponent(Y).key="main_fb"):(this.txt_bet.color=y.WHITE,this.txt_gold.color=y.WHITE,this.txt_win.getComponent(c).color=y.WHITE,this.txt_betFree.color=y.WHITE,this.txt_goldFree.color=y.WHITE,this.txt_winFree.getComponent(c).color=y.WHITE,this.btn_checkFree.interactable=!1,this.btn_checkFree.node.getChildByName("main_fb_press").getComponent(Y).key="main_fb_press"),t?this.spine_start.setAnimation(0,"idle",!0):this.spine_start.setAnimation(0,"spin",!0))},s.updateNotice=function(t){this.noticeDelay-=t,this.noticeDelay<0&&this.notice_title.setPosition(this.notice_title.position.x-1.5,this.notice_title.position.y),this.notice_title.getPosition().x<-this.notice_title.getComponent(v).width/2-233&&this.changeNotice()},s.changeNotice=function(t){this.noticeDelay=2,this.noticeIndex++,this.noticeIndex>6&&(this.noticeIndex=1),this.notice_title.getComponent(Y).key="info_"+this.noticeIndex;var e=this.notice_title.getComponent(v).width/2>233?this.notice_title.getComponent(v).width/2-233:0;this.notice_title.setPosition(e,this.notice_title.position.y)},s.changeSpecialNotice=function(t,e){if(void 0===t&&(t=!1),t);else{if(this.notice_title.active)return;this.notice_title.active=!0,this.changeNotice()}},s.update=function(t){switch(this.freeLock&&(this.freeTimeLeft-=t,this.freeTimeLeft<=0&&this.onClickFree()),this.updateNotice(t),this._state){case Bi:this._runTime-=t,this._runTime<=0&&(q.result?this.changeState(zi):(this._runTime=Xi,this._errCount++,this._errCount>3&&this.sendBet()));break;case zi:this._runTime-=t,this._runTime<=0&&this.changeState(Wi);break;case Ni:this._runTime-=t,this._runTime<=0&&(this.updateGold(),this.changeBtnActive(!0),this._auto||this._isFree?this.changeState(Wi):this.changeState(Ei));break;case Di:this._runTime-=t,this._runTime<=0&&(this.node_bigwin.active=!1,this.txt_bigwin.reset(),I.instance.stopSound(this._bigWinSoundId),I.instance.resumeMusic(),this.changeState(Mi));break;case Mi:this._runTime-=t,this._runTime<=0&&this.showEnd();break;case Wi:(this._auto||this._isFree)&&this.preStart();break;case Ei:this._runTime-=t,this._runTime<=0&&(this._runTime=2,this._showLineIndex++,this.showSignleLine());break;case Oi:this._runTime-=t,this._runTime<=0&&this.changeState(Wi);break;case Hi:this._runTime-=t,this._runTime<=0&&this.onClickFreeWin()}},s.onDestroy=function(){L.close(this),Si.off(Ti.eventTransform.setBet,this.setBet,this),Si.off(Ti.eventTransform.setAuto,this.setAuto,this),Si.off(Ti.eventTransform.setQuick,this.onClickQuick,this),Si.off(Ti.eventTransform.disConnect,this.disconnect,this),Si.off(Ti.protocolHall.login,this.onLogin,this),q.freeTotalWin=0},e}(F)).prototype,"aniLines",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=e(fe.prototype,"spine_start",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=e(fe.prototype,"btn_add",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=e(fe.prototype,"btn_reduce",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=e(fe.prototype,"txt_bet",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=e(fe.prototype,"txt_win",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=e(fe.prototype,"txt_gold",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=e(fe.prototype,"txt_betFree",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=e(fe.prototype,"txt_winFree",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=e(fe.prototype,"txt_goldFree",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=e(fe.prototype,"sp_bigWin",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=e(fe.prototype,"title_bigWin",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=e(fe.prototype,"txt_bigwin",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=e(fe.prototype,"node_bigwin",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=e(fe.prototype,"notice_title",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=e(fe.prototype,"node_spineMask",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=e(fe.prototype,"node_gain",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=e(fe.prototype,"node_content",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=e(fe.prototype,"spine_tip",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=e(fe.prototype,"txt_gain",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=e(fe.prototype,"node_gainTitle",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=e(fe.prototype,"node_totalGain",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=e(fe.prototype,"txt_totalGain",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=e(fe.prototype,"node_spineParent",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=e(fe.prototype,"prefab_winItem",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=e(fe.prototype,"node_menu",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=e(fe.prototype,"node_btns",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=e(fe.prototype,"txt_leftCount",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=e(fe.prototype,"prefab_window",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=e(fe.prototype,"txt_line",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=e(fe.prototype,"btn_auto",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=e(fe.prototype,"clickEffect",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=e(fe.prototype,"Button_soundon",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=e(fe.prototype,"Button_soundoff",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=e(fe.prototype,"ic_soundoff_off",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=e(fe.prototype,"frame_bgs",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ye=e(fe.prototype,"sprite_bg",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=e(fe.prototype,"node_freeBg",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=e(fe.prototype,"node_freeWinBg",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=e(fe.prototype,"spine_freeWin",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=e(fe.prototype,"txt_freeWin",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=e(fe.prototype,"txt_freeLeft",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=e(fe.prototype,"node_freeLeft",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=e(fe.prototype,"btns",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ni=e(fe.prototype,"spine_freeBg",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=e(fe.prototype,"spine_quick",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=e(fe.prototype,"txt_odd",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=e(fe.prototype,"txt_selectCount",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=e(fe.prototype,"spine_freeWinBtn",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=e(fe.prototype,"node_freeWinBtn",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=e(fe.prototype,"txt_leftTime",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e(fe.prototype,"node_freeAdd",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=e(fe.prototype,"txt_freeAdd",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=e(fe.prototype,"node_buyFree",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=e(fe.prototype,"txt_buyFree",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=e(fe.prototype,"spine_light",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=e(fe.prototype,"node_free0",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=e(fe.prototype,"node_free1",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=e(fe.prototype,"node_buyFreeBtn",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=e(fe.prototype,"sprite_bg1",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wi=e(fe.prototype,"sprite_bg4",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=e(fe.prototype,"sprite_bg2",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yi=e(fe.prototype,"sprite_bg3",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=e(fe.prototype,"frames_bg1",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ci=e(fe.prototype,"frames_bg2",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ai=e(fe.prototype,"btn_checkFree",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fi=e(fe.prototype,"node_scatterLight",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=fe))||he)||he));s._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMacauDef.ts","./SlotMacauWinItem.ts"],(function(e){var t,n,i,o,r,a,l,s,u,c,d,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.sp,s=e.Label,u=e.Node,c=e.UITransform,d=e.Component},function(e){p=e.SlotMacauDef},function(e){f=e.default}],execute:function(){var b,h,w,m,_,g,y,v,S,z,x,D,M,P,k,I,W,C,L,F,H,N,R,T;r._RF.push({},"6b302xGpNlFL5i6EHUJklbO","SlotMacauWindow",void 0);var U=a.ccclass,j=a.property,A=a.menu;e("default",(b=U("SlotMacauWindow"),h=A("game/SlotMacau/SlotMacauWindow"),w=j(l.SkeletonData),m=j(l.SkeletonData),_=j(l.SkeletonData),g=j(l.SkeletonData),y=j(s),v=j(u),S=j(u),z=j(u),x=j(u),D=j(f),b(M=h((k=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"spines",k,o(t)),i(t,"spines2",I,o(t)),i(t,"spines3",W,o(t)),i(t,"spines4",C,o(t)),i(t,"txt_odds",L,o(t)),i(t,"node_odd",F,o(t)),i(t,"node_wild",H,o(t)),i(t,"node_scatter",N,o(t)),i(t,"node_icon",R,o(t)),i(t,"item",T,o(t)),t}n(t,e);var r=t.prototype;return r.showIndex=function(e){this.node_odd.active=e<12,this.node_wild.active=e>=13,this.node_scatter.active=12==e;var t=p.odds[e];if(t)for(var n=0;n<4;n++)this.txt_odds[n].string=t[n]+""},r.showInfo=function(e,t){var n=e.count||1;this.showIndex(e.num),this.node.getComponent(c).height=111*n+20;var i=t.x>0?1:-1;e.num>11?(this.node.getComponent(c).width=500,this.node_icon.setPosition(173*i,0),this.node_wild.setPosition(-75*i,0),this.node_scatter.setPosition(-75*i,0),this.node.setPosition(t.x-173*i,t.y)):(this.node.getComponent(c).width=250,this.node_icon.setPosition(50*i,0),this.node_odd.setPosition(-65*i,0),this.node.setPosition(t.x-50*i,t.y)),this.item.showWindow(e)},r.onClick=function(){this.node.active=!1},t}(d)).prototype,"spines",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(P.prototype,"spines2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(P.prototype,"spines3",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(P.prototype,"spines4",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(P.prototype,"txt_odds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(P.prototype,"node_odd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"node_wild",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"node_scatter",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(P.prototype,"node_icon",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"item",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=P))||M)||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/SlotMacauWinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotMacauRunItemBlock.ts","./SlotMacauRunItemTop.ts","./SlotMacauRandItem.ts","./SlotMacauProxy.ts"],(function(e){var t,i,n,s,o,a,r,l,p,h,u,c,_,d,m,f,b,v,g,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,r=e.sp,l=e.Node,p=e.SpriteFrame,h=e.Sprite,u=e.UITransform,c=e.Tween,_=e.tween,d=e.v3,m=e.Component},function(e){f=e.default},function(e){b=e.default},function(e){v=e.default},function(e){g=e.default,w=e.SlotMacauGameEvent}],execute:function(){var y,k,x,S,D,z,I,M,C,L,A,T,W,R,P,E,F,B,K,O,V,j,G,H,J,N,U,Z,q,Q,X,Y;o._RF.push({},"6cec3tdl8hBZJW7xK7EEE1e","SlotMacauWinItem",void 0);var $=a.ccclass,ee=a.property,te=a.menu;e("default",(y=$("SlotMacauWinItem"),k=te("game/SlotMacau/SlotMacauWinItem"),x=ee(r.Skeleton),S=ee(r.Skeleton),D=ee(r.Skeleton),z=ee(r.SkeletonData),I=ee(r.SkeletonData),M=ee(r.SkeletonData),C=ee(r.SkeletonData),L=ee(l),A=ee(f),T=ee(b),W=ee(p),R=ee(h),P=ee(l),E=ee(v),y(F=k((K=t((B=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spine_bg",K,s(t)),n(t,"spine_wildLight",O,s(t)),n(t,"spine_normal",V,s(t)),n(t,"spines",j,s(t)),n(t,"spines2",G,s(t)),n(t,"spines3",H,s(t)),n(t,"spines4",J,s(t)),n(t,"node_parent",N,s(t)),n(t,"node_black",U,s(t)),n(t,"node_top",Z,s(t)),n(t,"frame_hps",q,s(t)),n(t,"sprite_hp",Q,s(t)),n(t,"node_special",X,s(t)),n(t,"randItem",Y,s(t)),t._index=void 0,t._type=void 0,t._count=1,t._info=void 0,t._isWindow=!1,t}i(t,e);var o=t.prototype;return o.showResult=function(e,t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=!0),this.sprite_hp.node.active=!1,this.spine_wildLight.node.active=!1,this._index=e.num-1;var s=e.count||1;this._info=e,this.spine_normal.node.active=!0,this.node_black.node.active=!0,this._index>12&&(this.sprite_hp.node.active=!0,this.sprite_hp.spriteFrame=this.frame_hps[this._index-13],this._index=12,e.count>1&&e.num>14&&(this.spine_wildLight.node.active=!0,this.spine_wildLight.setAnimation(0,"lv"+e.count,!1))),this.node_parent.setPosition(0,55.5*(s-1)),this.node_black.setInfo(e),this.node_top.node.active=!0,this.node_top.setType(e.type),this.node_top.setCount(s),this.setParentActive(s>0),this.node_parent.getComponent(u).height=111*s,c.stopAllByTarget(this.spine_normal.node),s>1?2==s?this.spine_normal.skeletonData=this.spines2[this._index]:3==s&&this.spines3[this._index]?this.spine_normal.skeletonData=this.spines3[this._index]:4==s&&this.spines4[this._index]?this.spine_normal.skeletonData=this.spines4[this._index]:this.spine_normal.skeletonData=this.spines2[this._index]:this.spine_normal.skeletonData=this.spines[this._index];var o="LV"+s+"_win";i&&this.spine_bg.setAnimation(0,o,!1),this.scheduleOnce((function(){n.spine_normal.setAnimation(0,"win",!1)})),this.node_special.active=!1,t?t.num>13?_(this.spine_normal.node).delay(.8).call((function(){n.showResult(t,null,!1)})).start():(this.node_special.active=!0,this.node_special.getComponent(r.Skeleton).setAnimation(0,"LV"+s+"_change",!1),this.randItem.setCard(t),this.scheduleOnce((function(){n.node_top.setType(t.type)}),.5)):_(this.spine_normal.node).delay(.8).call((function(){n.spine_normal.node.active=!1,n.node_black.node.active=!1,n.sprite_hp.node.active=!1})).start()},o.showWindow=function(e){this.sprite_hp.node.active=!1,this.spine_wildLight.node.active=!1,this._index=e.num-1;var t=e.count||1;this._info=e,this._index>12&&(this.sprite_hp.node.active=!0,this.sprite_hp.spriteFrame=this.frame_hps[this._index-13],this._index=12),this.node_black.setInfo(e),this.node_top.node.active=!0,this.node_top.setType(e.type),this.node_top.setCount(t),this.node_parent.getComponent(u).height=111*t,this.spine_normal.skeletonData=this.spines[this._index],t>1?2==t?this.spine_normal.skeletonData=this.spines2[this._index]:3==t&&this.spines3[this._index]?this.spine_normal.skeletonData=this.spines3[this._index]:4==t&&this.spines4[this._index]?this.spine_normal.skeletonData=this.spines4[this._index]:this.spine_normal.skeletonData=this.spines2[this._index]:this.spine_normal.skeletonData=this.spines[this._index],this.spine_normal.setAnimation(0,"win",!1),this.node_special.active=!1,this.spine_bg.node.active=!1,this._isWindow=!0},o.setParentActive=function(e){this.node_parent.active=e},o.onClick=function(){this._isWindow||g.emit(w.CLICK_ITEM,{info:this._info,pos:this.node_parent.getComponent(u).convertToWorldSpaceAR(d(0,0))})},t}(m)).prototype,"spine_bg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"spine_wildLight",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(B.prototype,"spine_normal",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(B.prototype,"spines",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(B.prototype,"spines2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(B.prototype,"spines3",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(B.prototype,"spines4",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(B.prototype,"node_parent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(B.prototype,"node_black",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(B.prototype,"node_top",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(B.prototype,"frame_hps",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(B.prototype,"sprite_hp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(B.prototype,"node_special",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(B.prototype,"randItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=B))||F)||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/ui_help.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./Common.ts"],(function(t){var e,r,n,i,o,a,u,s,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Label,s=t.Component},function(t){c=t.default},function(t){l=t.Common}],execute:function(){var p,f,y,h,m;o._RF.push({},"3d0f0JT4s1DMqEj7t/EHU3F","ui_help",void 0);var b=a.ccclass,_=a.property;t("ui_help",(p=b("ui_help"),f=_(u),p((m=e((h=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"waysLab",m,i(e)),e}return r(e,t),e.prototype.start=function(){this.waysLab.string=c.t("DreamOfMacauPayout.BetWaysTitle",{2025:l.numberFormat(2025,0),32400:l.numberFormat(32400,0)})},e}(s)).prototype,"waysLab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/SlotMacauGame', 'chunks:///_virtual/SlotMacauGame'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});